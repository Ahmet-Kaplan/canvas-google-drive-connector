<?xml version="1.0" encoding="UTF-8"?>
<cartridge_basiclti_link xmlns="http://www.imsglobal.org/xsd/imslticc_v1p0"
                         xmlns:blti="http://www.imsglobal.org/xsd/imsbasiclti_v1p0"
                         xmlns:lticm="http://www.imsglobal.org/xsd/imslticm_v1p0"
                         xmlns:lticp="http://www.imsglobal.org/xsd/imslticp_v1p0"
                         xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
                         xsi:schemaLocation="http://www.imsglobal.org/xsd/imslticc_v1p0 http://www.imsglobal.org/xsd/lti/ltiv1p0/imslticc_v1p0.xsd http://www.imsglobal.org/xsd/imsbasiclti_v1p0 http://www.imsglobal.org/xsd/lti/ltiv1p0/imsbasiclti_v1p0p1.xsd http://www.imsglobal.org/xsd/imslticm_v1p0 http://www.imsglobal.org/xsd/lti/ltiv1p0/imslticm_v1p0.xsd http://www.imsglobal.org/xsd/imslticp_v1p0 http://www.imsglobal.org/xsd/lti/ltiv1p0/imslticp_v1p0.xsd">
  <blti:title>Google Drive</blti:title>
  <blti:description>Google Drive integration for Canvas</blti:description>
  <blti:launch_url><%= ENV['LTI_APP_DOMAIN'] %>/lti/course-navigation</blti:launch_url>
  <blti:icon><%= ENV['LTI_APP_DOMAIN'] %>/assets/gdrive_icon.png</blti:icon>
  <blti:custom>
    <lticm:property name="account_id">$Canvas.account.id</lticm:property>
    <lticm:property name="assignment_title">$Canvas.assignment.title</lticm:property>
    <lticm:property name="base_url">$Canvas.api.baseUrl</lticm:property>
    <lticm:property name="domain">$Canvas.api.domain</lticm:property>
    <lticm:property name="group_context_ids">$Canvas.group.contextIds</lticm:property>
    <lticm:property name="masquerading_user_id">$Canvas.masqueradingUser.userId</lticm:property>
    <lticm:property name="membership_service_url">$ToolProxyBinding.memberships.url</lticm:property>
    <lticm:property name="previous_context_ids">$Canvas.course.previousContextIds</lticm:property>
    <lticm:property name="previous_context_ids_recursive">$Canvas.course.previousContextIds.recursive</lticm:property>
    <lticm:property name="time_zone">$Person.address.timezone</lticm:property>
    <lticm:property name="user_id">$Canvas.user.id</lticm:property>
  </blti:custom>
  <blti:extensions platform="canvas.instructure.com">
    <lticm:property name="domain"><%= ENV['LTI_APP_DOMAIN'].gsub(/https?:\/\//, '') %></lticm:property>
    <lticm:options name="assignment_selection">
      <lticm:property name="message_type">ContentItemSelectionRequest</lticm:property>
      <lticm:property name="text">Google Docs Cloud Assignment</lticm:property>
      <lticm:property name="url"><%= ENV['LTI_APP_DOMAIN'] %>/lti/assignment-selection</lticm:property>
    </lticm:options>
    <lticm:options name="course_navigation">
      <lticm:property name="text">Google Drive</lticm:property>
      <lticm:property name="url"><%= ENV['LTI_APP_DOMAIN'] %>/lti/course-navigation</lticm:property>
    </lticm:options>
    <lticm:options name="editor_button">
      <lticm:property name="icon_url"><%= ENV['LTI_APP_DOMAIN'] %>/assets/gdrive_icon.png</lticm:property>
      <lticm:property name="message_type">ContentItemSelectionRequest</lticm:property>
      <lticm:property name="selection_height">600</lticm:property>
      <lticm:property name="selection_width">700</lticm:property>
      <lticm:property name="url"><%= ENV['LTI_APP_DOMAIN'] %>/lti/editor-selection</lticm:property>
    </lticm:options>
    <lticm:options name="homework_submission">
      <lticm:property name="canvas_icon_class">icon-lti</lticm:property>
      <lticm:property name="icon_url"><%= ENV['LTI_APP_DOMAIN'] %>/assets/gdrive_icon.png</lticm:property>
      <lticm:property name="message_type">ContentItemSelectionRequest</lticm:property>
      <lticm:property name="text">Google Drive</lticm:property>
      <lticm:property name="url"><%= ENV['LTI_APP_DOMAIN'] %>/lti/homework-submission</lticm:property>
    </lticm:options>
    <lticm:options name="link_selection">
      <lticm:property name="enabled">true</lticm:property>
      <lticm:property name="message_type">ContentItemSelectionRequest</lticm:property>
      <lticm:property name="selection_height">600</lticm:property>
      <lticm:property name="selection_width">700</lticm:property>
      <lticm:property name="text">Google Drive</lticm:property>
      <lticm:property name="url"><%= ENV['LTI_APP_DOMAIN'] %>/lti/link-selection</lticm:property>
    </lticm:options>
  </blti:extensions>
</cartridge_basiclti_link>
